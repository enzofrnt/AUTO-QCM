<!-- templates/questions/question_filter_form.html -->
{% load color_filters %}

<form method="get" class="mb-4" id="filterForm" action="">
    <div class="form-row align-items-center">
      <div class="col-auto">
        <input type="text" name="nom" class="form-control" placeholder="Filtrer par nom" value="{{ nom_filtre }}" />
      </div>
      <div class="col-auto">
        <div class="form-group">
          <label for="tags">Filtrer par tags :</label>
          <div id="tags" class="d-flex flex-wrap">
            {% for tag in tags %}
              <span class="badge tag-badge form-check-label {% if tag.name in tag_filtre %}selected{% endif %}" data-tag-name="{{ tag.name }}" style="background-color: {{ tag.color }}; color: #fff; margin: 5px; padding: 6px 12px; border-radius: 20px; border: 2px solid {{ tag.color|darken_color:'0.3' }}; cursor: pointer;">
                {{ tag.name }}
              </span>
            {% endfor %}
          </div>
        </div>
      </div>
      <!-- Champs cachés pour les tags sélectionnés -->
      <div id="selected-tags-container">
        {% for tag_name in tag_filtre %}
          <input type="hidden" name="tags" value="{{ tag_name }}">
        {% endfor %}
      </div>
    </div>
</form>
